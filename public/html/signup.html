<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
    <title></title>
    <script>window.$ = window.jQuery = require('jquery');</script>
    <link rel="stylesheet" href="../bootstrap/bootstrap.min.css">
    <script src="../bootstrap/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/css.css">
    <script src="../functions.js" type="text/javascript"></script>
</head>

<body>
    <div class="signup-form">
        <form action="./displayData.html" onsubmit="return doSubmits()">
            <h2>Register</h2>
            <p class="hint-text">Create your account. It's free and only takes a minute.</p>
            <div class="form-group">
                <div class="row">
                    <div class="col-xs-6"><input type="text" class="form-control" id="first_name" placeholder="First Name"
                            required="required"></div>
                    <div class="col-xs-6"><input type="text" class="form-control" id="last_name" placeholder="Last Name"
                            required="required"></div>
                </div>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="username" placeholder="Username" required="required">
                </div>
                <div class="form-group">
                    <input type="email" class="form-control" id="email" placeholder="Email" required="required">
                </div>
                <div class="form-group">
                    <input type="tel" class="form-control" id="phone" placeholder="999-999-9999" required="required">
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" id="password" placeholder="Password" required="required">
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" id="confirm_password" placeholder="Confirm Password"
                        required="required">
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" id="pin" inputmode="numeric" placeholder="Enter a 6 digit numeric Pin" minlength="6" maxlength="6" size="6" pattern="[0-9]{6}" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-success btn-lg btn-block">Register Now</button>
                </div>
                </form>
                <div class="text-center">Already have an account? <a href="./signin.html">Sign in</a></div>
                </div>
    <script type=text/javascript> 
    function doSubmits(){ 
        var fName=document.getElementById("first_name").value;
        var lName=document.getElementById("last_name").value;
        var name=document.getElementById("username").value;
        var email=document.getElementById("email").value; 
        var phone=document.getElementById("phone").value; 
        var pass1=document.getElementById("password").value;  
        var pass2=document.getElementById("confirm_password").value;
        var pin=document.getElementById("pin").value;

        if(pass1 !== pass2){
            alert("Passwords do not match!");
            return false;
        }

    
        if (ipc.sendSync("clickedSignUp", [fName,lName,name, email, phone, pass1, pin])===false){
            alert("User already exists, sign in!");
            return false;
        } 
        else{
            return true;
        }
    }
    </script>
    </script>
</body>

</html>